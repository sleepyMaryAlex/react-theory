# ?Accessibility

_Доступность контента_ — это специальные технические и архитектурные решения, которые помогают людям с ограниченными возможностями использовать сайты. Термин «доступность контента» также может обозначаться аббревиатурой `a11y`.

* _Семантическая вёрстка_ — это основа доступности контента в веб-приложениях. [Полный перечень HTML-элементов на MDN](https://developer.mozilla.org/ru/docs/Web/HTML/Element).
* Бывают случаи, когда семантическая вёрстка нарушается. Например, при добавлении элемента `<div>` в JSX для обеспечения работоспособности кода на React. Особенно часто это случается при работе со списками (`<ol>`, `<ul>`, `<dl>`) или таблицами (`<table>`). В такой ситуации рекомендуется использовать фрагменты, чтобы сгруппировать элементы, как это показано в примере:

~~~
class Table extends React.Component {
  render() {
    return (
      <table>
        <tr>
          <Columns />
        </tr>
      </table>
    );
  }
}

class Columns extends React.Component {
  render() {
    return (
      <React.Fragment>
        <td>Привет</td>
        <td>Мир</td>
      </React.Fragment>
    );
  }
}
~~~

Существует сокращённая запись объявления фрагментов. Она выглядит как пустые теги:

~~~
class Columns extends React.Component {
  render() {
    return (
      <>
        <td>Привет</td>
        <td>Мир</td>
      </>
    );
  }
}
~~~

Фрагменты, объявленные с помощью `<React.Fragment>`, могут иметь ключи. `key` — это единственный атрибут, допустимый у `Fragment`. Можно использовать и `<></>`. Однако такая запись не поддерживает ключи.

* Каждый элемент управления, например, `<input>` или `<textarea>`, должен иметь `label`, обеспечивающую доступность контента. Labels нужно выполнять так, чтобы их могли использовать экранные считывающие устройства и другие технические средства реабилитации.

~~~
<label htmlFor="namedInput">Имя:</label>
<input id="namedInput" type="text" name="name"/>
~~~

* Приложение с доступным контентом должно функционировать при использовании только клавиатуры.
* Также на сайте нужно реализовать механизмы, которые помогают пользователям быстро переходить к нужному контенту с помощью клавиатуры. Ссылки для быстрого перехода — это скрытые навигационные ссылки, которые становятся видимыми, когда пользователи взаимодействуют со страницей с помощью клавиатуры. Такие ссылки очень легко сделать, используя внутренние якоря страницы и CSS.
* React-приложения во время своей работы постоянно изменяют структуру DOM. Иногда из-за этого фокус клавиатуры может быть потерян или может перейти на неправильный элемент. Чтобы исправить такую ситуацию, нужно запрограммировать перевод фокуса клавиатуры на нужный элемент. Например, после закрытия модального окна перевести фокус клавиатуры на кнопку, которая его открыла.

Чтобы управлять фокусом в React, можно использовать рефы на DOM-элементы:

~~~
class CustomTextInput extends React.Component {
  constructor(props) {
    super(props);
    this.textInput = React.createRef();
  }

  focus() {
    this.textInput.current.focus();
  }

  render() {
    return (
      <input type="text" ref={this.textInput} />
    );
  }
}
~~~

Иногда родительскому компоненту нужно установить фокус на элемент дочернего компонента. Мы можем сделать это с помощью рефа на родительский компонент, который присваивается специальному свойству дочернего компонента и используется для ссылки из родительского компонента на DOM-элемент дочернего.

~~~
function CustomTextInput(props) {
  return (
    <div>
      <input ref={props.inputRef} />
    </div>
  );
}

class Parent extends React.Component {
  constructor(props) {
    super(props);
    this.inputElement = React.createRef();
  }

  render() {
    return (
      <CustomTextInput inputRef={this.inputElement} />
    );
  }
}

// Теперь при необходимости можно устанавливать фокус на поле <input>.
this.inputElement.current.focus();
~~~

* Позаботьтесь, чтобы вся функциональность, связанная с событиями мыши, была доступна при работе только с клавиатурой. Если приложение сильно зависит от действий мыши, многие пользователи, которые используют только клавиатуру, не смогут работать с ним.
* Обязательно указывайте язык текста на странице. Это необходимо для корректной установки опций экранных считывающих устройств.
* Убедитесь, что все тексты на вашем сайте имеют правильную цветовую контрастность, чтобы обеспечить максимальное удобство чтения для пользователей с плохим зрением.

Плагин [eslint-plugin-jsx-a11y](https://github.com/devsenexx/eslint-plugin-jsx-a11y) для ESLint выполняет проверку абстрактного синтаксического дерева JSX на предмет поиска проблем, связанных с доступностью контента.
